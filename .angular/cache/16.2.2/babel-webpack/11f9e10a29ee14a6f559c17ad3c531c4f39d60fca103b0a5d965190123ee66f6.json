{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let PocreateComponent = class PocreateComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.selectOptions = [];\n    this.DiscountType = 'P';\n    this.total = 0.0;\n    this.DiscountDollar = 0.00;\n    this.DiscountPercent = 0.00;\n    this.TempTotal = 0;\n    this.quoteURL = 'https://phpapicsci467.azurewebsites.net/php_script/selectQuoteLine.php';\n    this.count = 2;\n    this.ChangeCounter = 0;\n  }\n  ngOnInit() {\n    this.http.get('https://phpapicsci467.azurewebsites.net/php_script/selectQuote.php').subscribe(response => {\n      this.selectOptions = response;\n    });\n  }\n  Datacheck() {\n    //Stored Associate Name\n    var AssocName = localStorage.getItem('AssocName');\n    if (AssocName !== null) {\n      this.EmpName = JSON.parse(AssocName);\n    }\n    //Stored Associate ID\n    var savedAssoc = localStorage.getItem('CurrentAssoc');\n    if (savedAssoc !== null) {\n      this.savedAssoc = JSON.parse(savedAssoc);\n      console.log(savedAssoc);\n    } else {\n      this.router.navigateByUrl('/');\n      setTimeout(function () {\n        alert(\"Error: User not found, please Login\");\n      }, 200);\n    }\n  }\n  RetriveData() {\n    for (let i = 0; i < this.selectOptions.length; ++i) {\n      if (this.selectOptions[i]['ID'] == this.SelectedVal) {\n        this.total = this.selectOptions[i]['Total'];\n      }\n    }\n    console.log(this.SelectedVal);\n    const quoteData = {\n      quoteID: this.SelectedVal\n    };\n    this.http.post(this.quoteURL, quoteData, {\n      responseType: 'json'\n    }).subscribe(responseData => {\n      this.QuoteLine = responseData;\n      if (this.QuoteLine['SecretFlag'] === 'Y') {}\n    });\n  }\n  DiscountSelect() {\n    console.log(this.DiscountType);\n  }\n  //Code below is for applying discount when the button is click\n  ApplyDiscount() {\n    if (this.ChangeCounter < 1) {\n      this.TempTotal = this.total;\n    } else {\n      this.total = this.TempTotal;\n    }\n    ++this.ChangeCounter;\n    if (this.DiscountType == 'P') {\n      console.log(\"This is %: \" + this.DiscountPercent);\n      this.total = this.total - this.total * this.DiscountPercent;\n    } else if (this.DiscountType == 'D') {\n      console.log(\"This is $: \" + this.DiscountDollar);\n      this.total = this.total - this.DiscountDollar;\n    }\n  }\n};\nPocreateComponent = __decorate([Component({\n  selector: 'app-pocreate',\n  templateUrl: './pocreate.component.html',\n  styleUrls: ['./pocreate.component.css']\n})], PocreateComponent);","map":{"version":3,"names":["Component","PocreateComponent","constructor","http","router","selectOptions","DiscountType","total","DiscountDollar","DiscountPercent","TempTotal","quoteURL","count","ChangeCounter","ngOnInit","get","subscribe","response","Datacheck","AssocName","localStorage","getItem","EmpName","JSON","parse","savedAssoc","console","log","navigateByUrl","setTimeout","alert","RetriveData","i","length","SelectedVal","quoteData","quoteID","post","responseType","responseData","QuoteLine","DiscountSelect","ApplyDiscount","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\ledon\\Desktop\\CSCI467-Group-Project\\src\\app\\pocreate\\pocreate.component.ts"],"sourcesContent":["import { Component, ElementRef, Renderer2, ViewChild, OnInit, createComponent } from '@angular/core';\r\nimport { Router, NavigationEnd,ActivatedRoute } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-pocreate',\r\n  templateUrl: './pocreate.component.html',\r\n  styleUrls: ['./pocreate.component.css']\r\n})\r\nexport class PocreateComponent {\r\n  responseFromPHP: any;\r\n  selectOptions: any[] = [];\r\n  QuoteLine: any;\r\n  SelectedVal: any;\r\n  DiscountType: any = 'P';\r\n  EmpName: any;\r\n  savedAssoc: any;\r\n  total: any = 0.0;\r\n  DiscountDollar: any = 0.00;\r\n  DiscountPercent: any = 0.00;\r\n  TempTotal: any = 0;\r\n\r\n  constructor(private http: HttpClient, private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.http.get('https://phpapicsci467.azurewebsites.net/php_script/selectQuote.php').subscribe((response: any) => {\r\n      this.selectOptions = response;\r\n    });\r\n  }\r\n\r\n  Datacheck(): void\r\n  {\r\n    //Stored Associate Name\r\n    var AssocName = localStorage.getItem('AssocName');\r\n    if(AssocName !== null){\r\n      this.EmpName = JSON.parse(AssocName);\r\n    }\r\n    //Stored Associate ID\r\n    var savedAssoc = localStorage.getItem('CurrentAssoc');\r\n    if(savedAssoc !== null){\r\n      this.savedAssoc = JSON.parse(savedAssoc);\r\n      console.log(savedAssoc);\r\n    }else{\r\n      this.router.navigateByUrl('/');\r\n      setTimeout(function(){\r\n        alert(\"Error: User not found, please Login\");\r\n      }, 200);\r\n    }\r\n  }\r\n\r\n  private quoteURL='https://phpapicsci467.azurewebsites.net/php_script/selectQuoteLine.php';\r\n\r\n  RetriveData() : void{\r\n    for(let i = 0; i < this.selectOptions.length; ++i)\r\n    {\r\n      if(this.selectOptions[i]['ID'] == this.SelectedVal)\r\n      {\r\n        this.total = this.selectOptions[i]['Total'];\r\n      }\r\n    }\r\n    console.log(this.SelectedVal);\r\n    const quoteData={quoteID: this.SelectedVal}\r\n    this.http.post(this.quoteURL,quoteData, {responseType:'json'}).subscribe(\r\n      responseData=>{\r\n        this.QuoteLine=responseData;\r\n        if (this.QuoteLine['SecretFlag']==='Y')\r\n        {\r\n        }\r\n    });\r\n  }\r\n  count: number=2;\r\n\r\nDiscountSelect():void\r\n{\r\n  console.log(this.DiscountType);\r\n}\r\n\r\nChangeCounter: number = 0;\r\n\r\n//Code below is for applying discount when the button is click\r\nApplyDiscount():void\r\n{\r\n  if (this.ChangeCounter < 1)\r\n  {\r\n    this.TempTotal = this.total;\r\n  }\r\n  else\r\n  {\r\n    this.total = this.TempTotal;\r\n  }\r\n\r\n  ++this.ChangeCounter;\r\n\r\n  if(this.DiscountType == 'P')\r\n  {\r\n    console.log(\"This is %: \" + this.DiscountPercent);\r\n    this.total = this.total - (this.total * this.DiscountPercent);\r\n  }\r\n  else if(this.DiscountType == 'D')\r\n  {\r\n    console.log(\"This is $: \" + this.DiscountDollar);\r\n    this.total = this.total - this.DiscountDollar;\r\n  }\r\n}\r\n}\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}