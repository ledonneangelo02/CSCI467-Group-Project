{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction PocreateComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function PocreateComponent_ng_container_2_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.changeQuote());\n    });\n    i0.ɵɵtext(2, \"Select Another Quote\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction PocreateComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\")(2, \"div\", 2)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 3)(6, \"h5\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"h5\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"h5\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 4)(13, \"h5\");\n    i0.ɵɵtext(14, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"input\", 5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Quote For: \", ctx_r1.CustomerName, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r1.CustomerAddyLn1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.CustomerAddyLn2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.CustomerContact);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.CustomerEmail);\n  }\n}\nfunction PocreateComponent_ng_container_4_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function PocreateComponent_ng_container_4_tr_11_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const option_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.RetriveData(option_r7.ID));\n    });\n    i0.ɵɵtext(10, \"Purchase Order\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const option_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate3(\"\", option_r7.ID, \" (\", option_r7.QuoteDate, \"): \", option_r7.AssocID, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(option_r7.CustName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(7, 5, option_r7.Total, \"1.2-2\"), \"\");\n  }\n}\nfunction PocreateComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"table\", 6)(2, \"thead\")(3, \"th\");\n    i0.ɵɵtext(4, \"Quote\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Customer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"th\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, PocreateComponent_ng_container_4_tr_11_Template, 11, 8, \"tr\", 7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.selectOptions);\n  }\n}\nfunction PocreateComponent_ng_container_5_tr_11_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const rows_r14 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(rows_r14.RowDesc);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(rows_r14.RowQty);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(rows_r14.RowPrice);\n  }\n}\nfunction PocreateComponent_ng_container_5_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, PocreateComponent_ng_container_5_tr_11_ng_container_1_Template, 7, 3, \"ng-container\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const rows_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", rows_r14.SecretFlag == \"N\");\n  }\n}\nfunction PocreateComponent_ng_container_5_tr_13_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const rows_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(rows_r17.RowDesc);\n  }\n}\nfunction PocreateComponent_ng_container_5_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, PocreateComponent_ng_container_5_tr_13_ng_container_1_Template, 3, 1, \"ng-container\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const rows_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", rows_r17.SecretFlag == \"Y\");\n  }\n}\nfunction PocreateComponent_ng_container_5_ng_container_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"label\", 21);\n    i0.ɵɵtext(2, \"Final Discount(%):\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 22);\n    i0.ɵɵlistener(\"ngModelChange\", function PocreateComponent_ng_container_5_ng_container_33_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r20.DiscountPercent = $event);\n    })(\"ngModelChange\", function PocreateComponent_ng_container_5_ng_container_33_Template_input_ngModelChange_3_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r22.ApplyDiscount());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function PocreateComponent_ng_container_5_ng_container_33_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.SubmitFinal());\n    });\n    i0.ɵɵtext(5, \"Submit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r12.DiscountPercent);\n  }\n}\nfunction PocreateComponent_ng_container_5_ng_container_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"label\", 21);\n    i0.ɵɵtext(2, \"Final Discount($):\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 24);\n    i0.ɵɵlistener(\"ngModelChange\", function PocreateComponent_ng_container_5_ng_container_34_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.DiscountDollar = $event);\n    })(\"ngModelChange\", function PocreateComponent_ng_container_5_ng_container_34_Template_input_ngModelChange_3_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r26.ApplyDiscount());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function PocreateComponent_ng_container_5_ng_container_34_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.SubmitFinal());\n    });\n    i0.ɵɵtext(5, \"Submit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r13.DiscountDollar)(\"max\", ctx_r13.total);\n  }\n}\nfunction PocreateComponent_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"table\", 9)(2, \"thead\")(3, \"tr\")(4, \"td\");\n    i0.ɵɵtext(5, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7, \"Quantity\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9, \"Price\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"tbody\", 10);\n    i0.ɵɵtemplate(11, PocreateComponent_ng_container_5_tr_11_Template, 2, 1, \"tr\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"tfoot\", 11);\n    i0.ɵɵtemplate(13, PocreateComponent_ng_container_5_tr_13_Template, 2, 1, \"tr\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"tfoot\", 12)(15, \"tr\", 13)(16, \"td\", 14);\n    i0.ɵɵtext(17, \" Secret Message: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"td\")(19, \"td\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"div\", 15)(21, \"div\", 16)(22, \"h4\");\n    i0.ɵɵtext(23, \"Total:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"h5\");\n    i0.ɵɵtext(25);\n    i0.ɵɵpipe(26, \"number\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"div\", 17)(28, \"select\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function PocreateComponent_ng_container_5_Template_select_ngModelChange_28_listener($event) {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.DiscountType = $event);\n    });\n    i0.ɵɵelementStart(29, \"option\", 19);\n    i0.ɵɵtext(30, \"Percentage (%)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"option\", 20);\n    i0.ɵɵtext(32, \"Dollar Amount ($)\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(33, PocreateComponent_ng_container_5_ng_container_33_Template, 6, 1, \"ng-container\", 0);\n    i0.ɵɵtemplate(34, PocreateComponent_ng_container_5_ng_container_34_Template, 6, 2, \"ng-container\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.QuoteLine);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.QuoteLine);\n    i0.ɵɵadvance(12);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(26, 6, ctx_r3.total, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.DiscountType);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.DiscountType == \"P\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.DiscountType == \"D\");\n  }\n}\nexport class PocreateComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.selectOptions = [];\n    this.selectedQuote = [];\n    this.quoteSelected = false;\n    //Discount and Total Amounts\n    this.total = 0.0;\n    this.DiscountType = 'P';\n    this.DiscountDollar = 0.00;\n    this.DiscountPercent = 0.00;\n    this.TempTotal = 0;\n    this.DiscountAmount = 0.00;\n    this.quoteURL = 'https://phpapicsci467.azurewebsites.net/php_script/pocreate/selectQuoteLine.php';\n    this.custURL = 'https://phpapicsci467.azurewebsites.net/php_script/pocreate/CustomerInfo.php';\n    this.count = 2;\n    this.ChangeCounter = 0;\n    /*\n     * This function will submit the quote data to the Purchase Order Processing System\n     *   So we can get the commission amount and date for our DB records\n    */\n    this.QuoteProcessUrl = \"https://phpapicsci467.azurewebsites.net/php_script/pocreate/ProcessingSystem.php\";\n    /*\n     * This function will update our DB with the new sales data as well as\n     *    updating the commission for the Sales Associate who is on the quote\n    */\n    this.UpdateAssocUrl = \"https://phpapicsci467.azurewebsites.net/php_script/pocreate/UpdateSalesAssoc.php\";\n  }\n  ngOnInit() {\n    this.Datacheck();\n    this.http.get('https://phpapicsci467.azurewebsites.net/php_script/pocreate/selectQuote.php').subscribe(response => {\n      this.selectOptions = response;\n    });\n  }\n  RetriveData(QID) {\n    this.quoteSelected = true;\n    this.ChangeCounter = 0;\n    for (let i = 0; i < this.selectOptions.length; ++i) {\n      if (this.selectOptions[i]['ID'] == QID) {\n        this.total = this.selectOptions[i]['Total'];\n        this.selectedQuote = this.selectOptions[i];\n        this.CustomerEmail = this.selectedQuote['CustEmail'];\n        this.DiscountAmount = +this.selectedQuote['Discount'];\n        this.QuoteID = QID;\n        this.RetriveCustInfo(this.selectOptions[i]['CustID']);\n      }\n    }\n    const quoteData = {\n      quoteID: QID\n    };\n    this.http.post(this.quoteURL, quoteData, {\n      responseType: 'json'\n    }).subscribe(responseData => {\n      this.QuoteLine = responseData;\n    });\n  }\n  RetriveCustInfo(CustID) {\n    const quoteData = {\n      custID: CustID\n    };\n    this.http.post(this.custURL, quoteData, {\n      responseType: 'json'\n    }).subscribe(response => {\n      this.Customer = response;\n      this.CustomerName = this.Customer[0]['name'];\n      this.CustomerAddyLn1 = this.Customer[0]['street'];\n      this.CustomerAddyLn2 = this.Customer[0]['city'];\n      this.CustomerContact = this.Customer[0]['contact'];\n    });\n  }\n  //Code below is for applying discount when the button is click\n  ApplyDiscount() {\n    //Check if we have changed the Discount before, so we can reset the Original Total\n    if (this.ChangeCounter < 1) {\n      this.TempTotal = this.total;\n    } else {\n      this.total = this.TempTotal;\n    }\n    ++this.ChangeCounter;\n    //Check what kind of Discount we are applying\n    if (this.DiscountType == 'P') {\n      this.total = this.total - this.total * this.DiscountPercent;\n      if (this.total < 0) {\n        this.total = this.TempTotal;\n        this.DiscountPercent = 0.0;\n      }\n    } else if (this.DiscountType == 'D') {\n      this.total = this.total - this.DiscountDollar;\n      if (this.total < 0) {\n        this.DiscountDollar = 0.0;\n        this.total = this.TempTotal;\n      }\n    }\n  }\n  SubmitFinal() {\n    //Depending on the Type of Discount, apply that to the discount total on the Quote\n    if (this.DiscountType == 'D') {\n      this.DiscountAmount += Number(this.DiscountDollar);\n    } else {\n      this.DiscountAmount += Number(this.total * this.DiscountPercent);\n    }\n    //Quote Data we need to send to PHP\n    const FinalQuoteData = {\n      QuoteData: this.selectedQuote,\n      NewTotal: this.total\n    };\n    this.http.post(this.QuoteProcessUrl, FinalQuoteData).subscribe({\n      next: data => {\n        //New Amount\n        const saleAmt = data['amount'];\n        this.ProcessDate = data['processDay'];\n        //tempPct removes \"%\" -> Pct creates a float\n        const tempPct = data['commission'].replace('%', '');\n        const Pct = parseFloat(tempPct);\n        //getting commission rate\n        const assocCom = saleAmt * (Pct / 100);\n        //array of new associate data\n        const assocData = {\n          assoc: data['associate'],\n          comAmt: assocCom,\n          quoteID: this.QuoteID,\n          discountAmt: this.DiscountAmount,\n          processDate: this.ProcessDate,\n          NewTotal: this.total\n        };\n        //Call the UpdateAssoc Function to place all the new data in our DB\n        this.UpdateDB(assocData);\n      },\n      error: error => {\n        console.error('Error Sending data', error);\n      }\n    });\n  }\n  UpdateDB(assocData) {\n    this.http.post(this.UpdateAssocUrl, assocData).subscribe({\n      next: data => {\n        let x = confirm(\"PO has been processed (\" + this.ProcessDate + \")\\nCommission of $\" + assocData['comAmt'].toFixed(2) + \" has been given to: \" + assocData['assoc']);\n        if (x) {\n          location.reload();\n        }\n      },\n      error: error => {\n        console.error('Error Sending data', error);\n      }\n    });\n  }\n  changeQuote() {\n    this.quoteSelected = false;\n  }\n  Datacheck() {\n    //Stored Associate Name\n    var AssocName = localStorage.getItem('AssocName');\n    if (AssocName !== null) {\n      this.EmpName = JSON.parse(AssocName);\n    }\n    //Stored Associate ID\n    var savedAssoc = localStorage.getItem('CurrentAssoc');\n    if (savedAssoc !== null) {\n      this.savedAssoc = JSON.parse(savedAssoc);\n    } else {\n      this.router.navigateByUrl('/');\n      setTimeout(function () {\n        alert(\"Error: User not found, please Login\");\n      }, 200);\n    }\n  }\n}\n_class = PocreateComponent;\n_class.ɵfac = function PocreateComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-pocreate\"]],\n  decls: 6,\n  vars: 4,\n  consts: [[4, \"ngIf\"], [1, \"buttons\", \"anotherOne\", 3, \"click\"], [1, \"custname-container\"], [1, \"custinfo-container\"], [1, \"custemail-container\"], [\"disabled\", \"\", \"type\", \"text\", \"id\", \"CustEmail\", 3, \"value\"], [1, \"quote-table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"po-button\", 3, \"click\"], [1, \"main-table\"], [\"id\", \"myTable\"], [1, \"tFooter\"], [1, \"tFooter2\"], [1, \"note\"], [\"colspan\", \"3\", 1, \"secretLabel\"], [1, \"row\", \"justify-content-center\"], [1, \"QuoteTotal\", \"col-auto\"], [1, \"discount\"], [1, \"item2\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"P\"], [\"value\", \"D\"], [\"for\", \"dscnt\"], [\"id\", \"dscnt\", \"type\", \"number\", \"step\", \".01\", \"max\", \"1\", 3, \"ngModel\", \"ngModelChange\"], [\"matt-raised-button\", \"\", 1, \"buttons\", \"SubButton\", 3, \"click\"], [\"id\", \"dscnt\", \"type\", \"number\", \"step\", \".5\", 3, \"ngModel\", \"max\", \"ngModelChange\"]],\n  template: function PocreateComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"html\")(1, \"body\");\n      i0.ɵɵtemplate(2, PocreateComponent_ng_container_2_Template, 3, 0, \"ng-container\", 0);\n      i0.ɵɵtemplate(3, PocreateComponent_ng_container_3_Template, 16, 5, \"ng-container\", 0);\n      i0.ɵɵtemplate(4, PocreateComponent_ng_container_4_Template, 12, 1, \"ng-container\", 0);\n      i0.ɵɵtemplate(5, PocreateComponent_ng_container_5_Template, 35, 9, \"ng-container\", 0);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.quoteSelected);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.quoteSelected);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.quoteSelected);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.quoteSelected);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.MaxValidator, i4.NgModel, i3.DecimalPipe],\n  styles: [\"*[_ngcontent-%COMP%]{\\n    margin: 0;\\n    padding: 0;\\n    list-style: none;\\n    text-decoration: none;\\n}\\n\\nbody[_ngcontent-%COMP%]\\n{\\n    padding-top: 5%;\\n    padding-bottom: 10%;\\n    padding-right:20%;\\n    padding-left: 20%;\\n    background-color: rgb(243, 243, 243);\\n}\\n\\nselect[_ngcontent-%COMP%]{\\n    margin: 40px;\\n    background-color: grey;\\n    text-shadow: 0 1px 0 rgba(0, 0, 0, 0.4);\\n}\\n\\n.main-table[_ngcontent-%COMP%]{\\n    border-color: black;\\n    border-collapse: collapse;\\n    width: 50em;\\n    background-color: grey;\\n    border-radius: 5px;\\n    box-shadow: 0px 10px 30px 5px #00000026;\\n    margin: 25px auto;\\n}\\n\\n.main-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{\\n    border-bottom: 1px dashed black;\\n}\\n\\n.secretLabel[_ngcontent-%COMP%]{\\n    float: left;\\n}\\n\\n.po-button[_ngcontent-%COMP%]{\\n    padding: 5px;\\n    border-radius: 10%;\\n}\\n\\n.quote-table[_ngcontent-%COMP%]{\\n    margin: 0 auto;\\n}\\n\\n.quote-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{\\n    padding-right: 40px;\\n}\\n\\n.quote-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{\\n    border: solid;\\n}\\n\\n.quote-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{\\n    padding-right: 40px;\\n    padding:10px;\\n}\\n\\n.note[_ngcontent-%COMP%]{\\n    border-collapse: collapse;\\n}\\n\\n.tFooter2[_ngcontent-%COMP%]{\\n    border-top: 1px dashed black;\\n}\\n\\n.main-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{\\n    font-size: 20px;\\n    font-family: monospace;\\n    letter-spacing: 1px;\\n    color: black;\\n    padding: 8px;\\n}\\n\\n.main-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{\\n    height: 100px;\\n    font-size: 20px;\\n    font-family: monospace;\\n    color: black;\\n    letter-spacing: 1px;\\n    padding: 8px;\\n}\\n\\n.main-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{\\n    font-size: 20px;\\n    font-family: monospace;\\n    letter-spacing: 1px;\\n    padding: 8px;\\n}\\n\\n.main-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{\\n    background-color: grey;\\n    font-size: 10px;\\n    font-family: monospace;\\n    color: black;\\n    padding: 8px;\\n}\\n\\n.main-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{\\n    background-color: grey;\\n    color: black;\\n    font-size: 15px;\\n    font-family: monospace;\\n    letter-spacing: 1px;\\n    padding: 8px;\\n}\\n\\n.main-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-last-child(1), .main-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-last-child(1), .main-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-last-child(1)\\n{\\n    text-align: right;\\n}\\n\\n.discount[_ngcontent-%COMP%]{\\n    padding-left: 10%;\\n}\\n\\n.SubButton[_ngcontent-%COMP%]\\n{\\n    margin-left: 15px;\\n    padding: 2px;\\n}\\n\\n.custname-container[_ngcontent-%COMP%]{\\n    color: blue;\\n    padding-bottom: 10px;\\n}\\n\\n.custinfo-container[_ngcontent-%COMP%]{\\n    padding-bottom: 10px;\\n}\\n\\n.custemail-container[_ngcontent-%COMP%]{\\n    display: flex;\\n    gap: 20px;\\n}\\n\\n.buttons[_ngcontent-%COMP%]{\\n    padding: 5px;\\n    border-radius: 10%;\\n}\\n\\n.buttons[_ngcontent-%COMP%]:hover{\\n  background-color: #000000;\\n  color: rgb(255, 255, 255);\\n}\\n\\n.anotherOne[_ngcontent-%COMP%]{\\n    float: right;\\n    margin-top: 55px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcG9jcmVhdGUvcG9jcmVhdGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFNBQVM7SUFDVCxVQUFVO0lBQ1YsZ0JBQWdCO0lBQ2hCLHFCQUFxQjtBQUN6Qjs7QUFFQTs7SUFFSSxlQUFlO0lBQ2YsbUJBQW1CO0lBQ25CLGlCQUFpQjtJQUNqQixpQkFBaUI7SUFDakIsb0NBQW9DO0FBQ3hDOztBQUVBO0lBQ0ksWUFBWTtJQUNaLHNCQUFzQjtJQUN0Qix1Q0FBdUM7QUFDM0M7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIseUJBQXlCO0lBQ3pCLFdBQVc7SUFDWCxzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLHVDQUF1QztJQUN2QyxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSwrQkFBK0I7QUFDbkM7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxZQUFZO0lBQ1osa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksY0FBYztBQUNsQjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLDRCQUE0QjtBQUNoQzs7QUFFQTtJQUNJLGVBQWU7SUFDZixzQkFBc0I7SUFDdEIsbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLGVBQWU7SUFDZixzQkFBc0I7SUFDdEIsWUFBWTtJQUNaLG1CQUFtQjtJQUNuQixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixlQUFlO0lBQ2Ysc0JBQXNCO0lBQ3RCLFlBQVk7SUFDWixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLFlBQVk7SUFDWixlQUFlO0lBQ2Ysc0JBQXNCO0lBQ3RCLG1CQUFtQjtJQUNuQixZQUFZO0FBQ2hCOztBQUVBOzs7O0lBSUksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBOztJQUVJLGlCQUFpQjtJQUNqQixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksV0FBVztJQUNYLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYixTQUFTO0FBQ2I7O0FBRUE7SUFDSSxZQUFZO0lBQ1osa0JBQWtCO0FBQ3RCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLHlCQUF5QjtBQUMzQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixnQkFBZ0I7QUFDcEIiLCJzb3VyY2VzQ29udGVudCI6WyIqe1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuXHJcbmJvZHlcclxue1xyXG4gICAgcGFkZGluZy10b3A6IDUlO1xyXG4gICAgcGFkZGluZy1ib3R0b206IDEwJTtcclxuICAgIHBhZGRpbmctcmlnaHQ6MjAlO1xyXG4gICAgcGFkZGluZy1sZWZ0OiAyMCU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQzLCAyNDMsIDI0Myk7XHJcbn1cclxuXHJcbnNlbGVjdHtcclxuICAgIG1hcmdpbjogNDBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGdyZXk7XHJcbiAgICB0ZXh0LXNoYWRvdzogMCAxcHggMCByZ2JhKDAsIDAsIDAsIDAuNCk7XHJcbn1cclxuXHJcbi5tYWluLXRhYmxle1xyXG4gICAgYm9yZGVyLWNvbG9yOiBibGFjaztcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICB3aWR0aDogNTBlbTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGdyZXk7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBib3gtc2hhZG93OiAwcHggMTBweCAzMHB4IDVweCAjMDAwMDAwMjY7XHJcbiAgICBtYXJnaW46IDI1cHggYXV0bztcclxufVxyXG5cclxuLm1haW4tdGFibGUgdGhlYWQgdHJ7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggZGFzaGVkIGJsYWNrO1xyXG59XHJcblxyXG4uc2VjcmV0TGFiZWx7XHJcbiAgICBmbG9hdDogbGVmdDtcclxufVxyXG5cclxuLnBvLWJ1dHRvbntcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwJTtcclxufVxyXG5cclxuLnF1b3RlLXRhYmxle1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbn1cclxuXHJcbi5xdW90ZS10YWJsZSB0aHtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDQwcHg7XHJcbn1cclxuXHJcbi5xdW90ZS10YWJsZSB0cntcclxuICAgIGJvcmRlcjogc29saWQ7XHJcbn1cclxuXHJcbi5xdW90ZS10YWJsZSB0ZHtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDQwcHg7XHJcbiAgICBwYWRkaW5nOjEwcHg7XHJcbn1cclxuXHJcbi5ub3Rle1xyXG4gICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxufVxyXG5cclxuLnRGb290ZXIye1xyXG4gICAgYm9yZGVyLXRvcDogMXB4IGRhc2hlZCBibGFjaztcclxufVxyXG5cclxuLm1haW4tdGFibGUgdGhlYWQgdHIgdGR7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xyXG4gICAgbGV0dGVyLXNwYWNpbmc6IDFweDtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICAgIHBhZGRpbmc6IDhweDtcclxufVxyXG5cclxuLm1haW4tdGFibGUgdGJvZHkgdHIgdGR7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICAgIGxldHRlci1zcGFjaW5nOiAxcHg7XHJcbiAgICBwYWRkaW5nOiA4cHg7XHJcbn1cclxuXHJcbi5tYWluLXRhYmxlIHRmb290IHRyIHRke1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgZm9udC1mYW1pbHk6IG1vbm9zcGFjZTtcclxuICAgIGxldHRlci1zcGFjaW5nOiAxcHg7XHJcbiAgICBwYWRkaW5nOiA4cHg7XHJcbn1cclxuXHJcbi5tYWluLXRhYmxlIHRmb290IHRkIGlucHV0e1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogZ3JleTtcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIGZvbnQtZmFtaWx5OiBtb25vc3BhY2U7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICBwYWRkaW5nOiA4cHg7XHJcbn1cclxuXHJcbi5tYWluLXRhYmxlIHRkIGJ1dHRvbntcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGdyZXk7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICBmb250LXNpemU6IDE1cHg7XHJcbiAgICBmb250LWZhbWlseTogbW9ub3NwYWNlO1xyXG4gICAgbGV0dGVyLXNwYWNpbmc6IDFweDtcclxuICAgIHBhZGRpbmc6IDhweDtcclxufVxyXG5cclxuLm1haW4tdGFibGUgdGhlYWQgdHIgdGQ6bnRoLWxhc3QtY2hpbGQoMSksXHJcbi5tYWluLXRhYmxlIHRib2R5IHRyIHRkOm50aC1sYXN0LWNoaWxkKDEpLFxyXG4ubWFpbi10YWJsZSB0Zm9vdCB0ciB0ZDpudGgtbGFzdC1jaGlsZCgxKVxyXG57XHJcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcclxufVxyXG5cclxuLmRpc2NvdW50e1xyXG4gICAgcGFkZGluZy1sZWZ0OiAxMCU7XHJcbn1cclxuXHJcbi5TdWJCdXR0b25cclxue1xyXG4gICAgbWFyZ2luLWxlZnQ6IDE1cHg7XHJcbiAgICBwYWRkaW5nOiAycHg7XHJcbn1cclxuXHJcbi5jdXN0bmFtZS1jb250YWluZXJ7XHJcbiAgICBjb2xvcjogYmx1ZTtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xyXG59XHJcblxyXG4uY3VzdGluZm8tY29udGFpbmVye1xyXG4gICAgcGFkZGluZy1ib3R0b206IDEwcHg7XHJcbn1cclxuXHJcbi5jdXN0ZW1haWwtY29udGFpbmVye1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGdhcDogMjBweDtcclxufVxyXG5cclxuLmJ1dHRvbnN7XHJcbiAgICBwYWRkaW5nOiA1cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMCU7XHJcbn1cclxuXHJcbi5idXR0b25zOmhvdmVye1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDAwMDA7XHJcbiAgY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTtcclxufVxyXG5cclxuLmFub3RoZXJPbmV7XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICBtYXJnaW4tdG9wOiA1NXB4O1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementContainerStart","ɵɵelementStart","ɵɵlistener","PocreateComponent_ng_container_2_Template_button_click_1_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","changeQuote","ɵɵtext","ɵɵelementEnd","ɵɵelementContainerEnd","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate1","ctx_r1","CustomerName","ɵɵtextInterpolate","CustomerAddyLn1","CustomerAddyLn2","CustomerContact","ɵɵpropertyInterpolate","CustomerEmail","PocreateComponent_ng_container_4_tr_11_Template_button_click_9_listener","restoredCtx","_r9","option_r7","$implicit","ctx_r8","RetriveData","ID","ɵɵtextInterpolate3","QuoteDate","AssocID","CustName","ɵɵpipeBind2","Total","ɵɵtemplate","PocreateComponent_ng_container_4_tr_11_Template","ɵɵproperty","ctx_r2","selectOptions","rows_r14","RowDesc","RowQty","RowPrice","PocreateComponent_ng_container_5_tr_11_ng_container_1_Template","SecretFlag","rows_r17","PocreateComponent_ng_container_5_tr_13_ng_container_1_Template","PocreateComponent_ng_container_5_ng_container_33_Template_input_ngModelChange_3_listener","$event","_r21","ctx_r20","DiscountPercent","ctx_r22","ApplyDiscount","PocreateComponent_ng_container_5_ng_container_33_Template_button_click_4_listener","ctx_r23","SubmitFinal","ctx_r12","PocreateComponent_ng_container_5_ng_container_34_Template_input_ngModelChange_3_listener","_r25","ctx_r24","DiscountDollar","ctx_r26","PocreateComponent_ng_container_5_ng_container_34_Template_button_click_4_listener","ctx_r27","ctx_r13","total","PocreateComponent_ng_container_5_tr_11_Template","PocreateComponent_ng_container_5_tr_13_Template","PocreateComponent_ng_container_5_Template_select_ngModelChange_28_listener","_r29","ctx_r28","DiscountType","PocreateComponent_ng_container_5_ng_container_33_Template","PocreateComponent_ng_container_5_ng_container_34_Template","ctx_r3","QuoteLine","PocreateComponent","constructor","http","router","selectedQuote","quoteSelected","TempTotal","DiscountAmount","quoteURL","custURL","count","ChangeCounter","QuoteProcessUrl","UpdateAssocUrl","ngOnInit","Datacheck","get","subscribe","response","QID","i","length","QuoteID","RetriveCustInfo","quoteData","quoteID","post","responseType","responseData","CustID","custID","Customer","Number","FinalQuoteData","QuoteData","NewTotal","next","data","saleAmt","ProcessDate","tempPct","replace","Pct","parseFloat","assocCom","assocData","assoc","comAmt","discountAmt","processDate","UpdateDB","error","console","x","confirm","toFixed","location","reload","AssocName","localStorage","getItem","EmpName","JSON","parse","savedAssoc","navigateByUrl","setTimeout","alert","ɵɵdirectiveInject","i1","HttpClient","i2","Router","selectors","decls","vars","consts","template","PocreateComponent_Template","rf","ctx","PocreateComponent_ng_container_2_Template","PocreateComponent_ng_container_3_Template","PocreateComponent_ng_container_4_Template","PocreateComponent_ng_container_5_Template"],"sources":["C:\\Users\\ledon\\Desktop\\CSCI467-Group-Project\\src\\app\\pocreate\\pocreate.component.ts","C:\\Users\\ledon\\Desktop\\CSCI467-Group-Project\\src\\app\\pocreate\\pocreate.component.html"],"sourcesContent":["import { Component, Inject, ElementRef, Renderer2, ViewChild, OnInit, createComponent } from '@angular/core';\r\nimport { Router, NavigationEnd,ActivatedRoute } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n\r\n@Component({\r\n  selector: 'app-pocreate',\r\n  templateUrl: './pocreate.component.html',\r\n  styleUrls: ['./pocreate.component.css']\r\n})\r\nexport class PocreateComponent {\r\n  responseFromPHP: any;\r\n  selectOptions: any[] = [];\r\n  selectedQuote: any = [];\r\n  QuoteLine: any;\r\n  SelectedVal: any;\r\n  EmpName: any;\r\n  savedAssoc: any;\r\n  quoteSelected: boolean = false;\r\n  QuoteID: any;\r\n  //Discount and Total Amounts\r\n  total: any = 0.0;\r\n  DiscountType: any = 'P';\r\n  DiscountDollar: any = 0.00;\r\n  DiscountPercent: any = 0.00;\r\n  TempTotal: any = 0;\r\n  DiscountAmount: number = 0.00;\r\n  ProcessDate: any;\r\n  //Customer Information For PO View\r\n  Customer: any;\r\n  CustomerName: any;\r\n  CustomerContact: any;\r\n  CustomerEmail: any;\r\n  CustomerAddyLn1: any;\r\n  CustomerAddyLn2: any;\r\n\r\n\r\n  constructor(private http: HttpClient, private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.Datacheck();\r\n    this.http.get('https://phpapicsci467.azurewebsites.net/php_script/pocreate/selectQuote.php').subscribe((response: any) => {\r\n      this.selectOptions = response;\r\n    });\r\n  }\r\n\r\n  private quoteURL='https://phpapicsci467.azurewebsites.net/php_script/pocreate/selectQuoteLine.php';\r\n\r\n  RetriveData(QID: any) : void{\r\n    this.quoteSelected = true;\r\n    this.ChangeCounter = 0;\r\n    for(let i = 0; i < this.selectOptions.length; ++i)\r\n    {\r\n      if(this.selectOptions[i]['ID'] == QID)\r\n      {\r\n        this.total = this.selectOptions[i]['Total'];\r\n        this.selectedQuote = this.selectOptions[i];\r\n        this.CustomerEmail = this.selectedQuote['CustEmail'];\r\n        this.DiscountAmount = +this.selectedQuote['Discount'];\r\n        this.QuoteID = QID;\r\n        this.RetriveCustInfo(this.selectOptions[i]['CustID']);\r\n      }\r\n    }\r\n    const quoteData={quoteID: QID}\r\n    this.http.post(this.quoteURL,quoteData, {responseType:'json'}).subscribe(\r\n      responseData=>{\r\n        this.QuoteLine=responseData;\r\n\r\n    });\r\n  }\r\n\r\n  private custURL='https://phpapicsci467.azurewebsites.net/php_script/pocreate/CustomerInfo.php';\r\n  RetriveCustInfo(CustID: any) : void{\r\n    const quoteData={custID: CustID}\r\n    this.http.post(this.custURL,quoteData, {responseType:'json'}).subscribe(\r\n      response=>{\r\n        this.Customer = response;\r\n        this.CustomerName = this.Customer[0]['name'];\r\n        this.CustomerAddyLn1 = this.Customer[0]['street'];\r\n        this.CustomerAddyLn2 = this.Customer[0]['city'];\r\n        this.CustomerContact = this.Customer[0]['contact'];\r\n    });\r\n  }\r\n\r\ncount: number=2;\r\n\r\nChangeCounter: number = 0;\r\n\r\n//Code below is for applying discount when the button is click\r\nApplyDiscount():void\r\n{\r\n  //Check if we have changed the Discount before, so we can reset the Original Total\r\n  if (this.ChangeCounter < 1)\r\n  {\r\n    this.TempTotal = this.total;\r\n  }\r\n  else\r\n  {\r\n    this.total = this.TempTotal;\r\n  }\r\n\r\n  ++this.ChangeCounter;\r\n\r\n  //Check what kind of Discount we are applying\r\n  if(this.DiscountType == 'P')\r\n  {\r\n    this.total = this.total - (this.total * this.DiscountPercent);\r\n    if(this.total < 0){\r\n      this.total = this.TempTotal;\r\n      this.DiscountPercent = 0.0;\r\n    }\r\n  }\r\n  else if(this.DiscountType == 'D')\r\n  {\r\n    this.total = this.total - this.DiscountDollar;\r\n    if(this.total < 0){\r\n      this.DiscountDollar = 0.0;\r\n      this.total = this.TempTotal;\r\n     }\r\n  }\r\n}\r\n\r\n/*\r\n * This function will submit the quote data to the Purchase Order Processing System\r\n *   So we can get the commission amount and date for our DB records\r\n*/\r\nQuoteProcessUrl = \"https://phpapicsci467.azurewebsites.net/php_script/pocreate/ProcessingSystem.php\";\r\nSubmitFinal(): void{\r\n\r\n  //Depending on the Type of Discount, apply that to the discount total on the Quote\r\n  if(this.DiscountType == 'D'){\r\n    this.DiscountAmount += Number(this.DiscountDollar);\r\n  }else{\r\n    this.DiscountAmount += Number(this.total * this.DiscountPercent);\r\n  }\r\n  //Quote Data we need to send to PHP\r\n  const FinalQuoteData = {\r\n    QuoteData: this.selectedQuote,\r\n    NewTotal: this.total\r\n  };\r\n\r\n  this.http.post(this.QuoteProcessUrl, FinalQuoteData).subscribe({        \r\n    next: (data: any) => {\r\n    //New Amount\r\n    const saleAmt: number = data['amount'];\r\n    this.ProcessDate = data['processDay'];\r\n    //tempPct removes \"%\" -> Pct creates a float\r\n    const tempPct = data['commission'].replace('%','');\r\n    const Pct = parseFloat(tempPct);\r\n\r\n    //getting commission rate\r\n    const assocCom = saleAmt * (Pct / 100);\r\n    //array of new associate data\r\n    const assocData = \r\n    {\r\n      assoc: data['associate'],\r\n      comAmt: assocCom,\r\n      quoteID: this.QuoteID,\r\n      discountAmt: this.DiscountAmount,\r\n      processDate: this.ProcessDate,\r\n      NewTotal: this.total\r\n    }\r\n\r\n    //Call the UpdateAssoc Function to place all the new data in our DB\r\n    this.UpdateDB(assocData);\r\n\r\n    },\r\n    error: (error) => {\r\n      console.error('Error Sending data', error);\r\n    }\r\n  });\r\n}\r\n\r\n\r\n/*\r\n * This function will update our DB with the new sales data as well as \r\n *    updating the commission for the Sales Associate who is on the quote\r\n*/\r\nUpdateAssocUrl = \"https://phpapicsci467.azurewebsites.net/php_script/pocreate/UpdateSalesAssoc.php\";\r\nUpdateDB(assocData:any): void\r\n{\r\n  this.http.post(this.UpdateAssocUrl, assocData).subscribe({        \r\n    next: (data: any) => {\r\n      let x = confirm(\"PO has been processed (\" + this.ProcessDate + \")\\nCommission of $\" + assocData['comAmt'].toFixed(2) + \" has been given to: \" + assocData['assoc']);\r\n\r\n      if(x){\r\n        location.reload();\r\n      }\r\n\r\n\r\n    },\r\n    error: (error) => {\r\n      console.error('Error Sending data', error);\r\n    }\r\n  });\r\n}\r\n\r\nchangeQuote():void{\r\n  this.quoteSelected = false;\r\n}\r\n\r\nDatacheck(): void\r\n{\r\n  //Stored Associate Name\r\n  var AssocName = localStorage.getItem('AssocName');\r\n  if(AssocName !== null){\r\n    this.EmpName = JSON.parse(AssocName);\r\n  }\r\n  //Stored Associate ID\r\n  var savedAssoc = localStorage.getItem('CurrentAssoc');\r\n  if(savedAssoc !== null){\r\n    this.savedAssoc = JSON.parse(savedAssoc);\r\n  }else{\r\n    this.router.navigateByUrl('/');\r\n    setTimeout(function(){\r\n      alert(\"Error: User not found, please Login\");\r\n    }, 200);\r\n  }\r\n}\r\n\r\n}","<html>\r\n    <body>\r\n        <ng-container *ngIf=\"quoteSelected\">\r\n            <button class=\"buttons anotherOne\" (click)=\"changeQuote()\">Select Another Quote</button>  \r\n        </ng-container>\r\n        <ng-container *ngIf=\"quoteSelected\">\r\n            <div>\r\n                <div class=\"custname-container\">\r\n                    <h3>Quote For: {{CustomerName}}</h3>\r\n                </div>\r\n                <div class=\"custinfo-container\">\r\n                    <h5>{{CustomerAddyLn1}}</h5>\r\n                    <h5>{{CustomerAddyLn2}}</h5>\r\n                    <h5>{{CustomerContact}}</h5>\r\n                </div>\r\n                <div class=\"custemail-container\">\r\n                    <h5>Email:</h5>\r\n                    <input disabled type=\"text\" value=\"{{CustomerEmail}}\" id=\"CustEmail\">\r\n                </div>\r\n            </div>\r\n        </ng-container>\r\n        <ng-container *ngIf=\"!quoteSelected\">\r\n            <table class=\"quote-table\">\r\n                <thead>\r\n                    <th>Quote</th>\r\n                    <th>Customer</th>\r\n                    <th>Total</th>\r\n                    <th></th>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let option of selectOptions\">\r\n                        <td>{{option.ID }} ({{option.QuoteDate}}): {{option.AssocID}}</td>\r\n                        <td>{{option.CustName}}</td>\r\n                        <td>${{option.Total | number: '1.2-2'}}</td>\r\n                        <td><button class=\"po-button\" (click)=\"RetriveData(option.ID)\">Purchase Order</button></td>\r\n                    </tr>\r\n                </tbody>    \r\n            </table>\r\n        </ng-container>\r\n\r\n        <ng-container *ngIf=\"quoteSelected\">\r\n            <!--Code below is  for table-->\r\n            <table class=\"main-table\">\r\n                <!--Table Header-->\r\n                <thead>\r\n                    <tr>\r\n                        <td>Description</td>\r\n                        <td>Quantity</td>\r\n                        <td>Price</td>\r\n                    </tr>\r\n                </thead>\r\n                <!--End of Table Header-->\r\n\r\n                <!--Table Body Contents-->\r\n                <tbody id=\"myTable\">\r\n                    <tr *ngFor=\"let rows of QuoteLine\">\r\n                        <ng-container *ngIf=\"rows.SecretFlag == 'N'\">\r\n                        <td>{{rows.RowDesc}}</td>\r\n                        <td>{{rows.RowQty}}</td>\r\n                        <td>{{rows.RowPrice}}</td>\r\n                    </ng-container>\r\n                    </tr>\r\n                </tbody>\r\n                <!--End of Table Body Contents-->\r\n\r\n            <!--Table footer Secret Message-->\r\n            <tfoot class=\"tFooter\">\r\n                <tr *ngFor=\"let rows of QuoteLine\" >\r\n                    <ng-container *ngIf=\"rows.SecretFlag == 'Y'\">\r\n                    <td>{{rows.RowDesc}}</td>\r\n                    </ng-container>\r\n                </tr>\r\n            </tfoot>\r\n            <tfoot class=\"tFooter2\">\r\n                <tr class=\"note\">\r\n                    <td class=\"secretLabel\" colspan=\"3\">\r\n                        Secret Message:\r\n                    </td>\r\n                    <td></td>\r\n                    <td></td>\r\n                </tr>\r\n            </tfoot>\r\n            <!--End of Table footer Secret Message-->\r\n        </table>\r\n        <!--End of Table-->\r\n\r\n        <!--Prints out Total Price-->\r\n        <div class=\"row justify-content-center\">           \r\n            <div class=\"QuoteTotal col-auto\">\r\n                <h4>Total:</h4>\r\n                <h5>${{ total | number: '1.2-2'}}</h5>\r\n            </div>  \r\n        </div>\r\n        <!--End of Total Price-->\r\n\r\n        <div class=\"discount\">\r\n            <!--Drop Down Menu-->\r\n            <select class=\"item2\" [(ngModel)]=\"DiscountType\">\r\n                <option value=\"P\">Percentage (%)</option>\r\n                <option value=\"D\">Dollar Amount ($)</option>\r\n            </select>\r\n            <!--End of Drop Down-->\r\n\r\n            <!--Code below is for Percentage Option-->\r\n                <ng-container *ngIf=\"DiscountType == 'P'\">\r\n                    <label for=\"dscnt\">Final Discount(%):</label>\r\n                    <input id=\"dscnt\" type=\"number\" step=\".01\" [(ngModel)]=\"DiscountPercent\" max=\"1\" (ngModelChange)=\"ApplyDiscount()\">\r\n                    <button class=\" buttons SubButton\" (click)=\"SubmitFinal()\" matt-raised-button>Submit</button>\r\n                </ng-container>\r\n            <!--End of Percentage Option-->\r\n\r\n            <!--Code below is for Dollar Option-->\r\n                <ng-container *ngIf=\"DiscountType == 'D'\">\r\n                    <label for=\"dscnt\">Final Discount($):</label>\r\n                    <input id=\"dscnt\" type=\"number\" step=\".5\" [(ngModel)]=\"DiscountDollar\" [max]=\"total\" (ngModelChange)=\"ApplyDiscount()\">\r\n                    <button class=\"buttons SubButton\" (click)=\"SubmitFinal()\" matt-raised-button>Submit</button>\r\n                </ng-container>\r\n            <!--End of Dollar Option-->\r\n        </div>\r\n    </ng-container>\r\n</body>  \r\n</html>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}